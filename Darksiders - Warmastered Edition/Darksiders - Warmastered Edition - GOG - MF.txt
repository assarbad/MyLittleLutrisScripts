files:
- mf_fix: https://github.com/legluondunet/MyLittleLutrisScripts/raw/refs/heads/master/Darksiders%20-%20Warmastered%20Edition/mf-installcab_lgdn.zip
- gogsetup: N/A:Please select the game Windows install file, available for  download
    from your GOG account page.
game:
  exe: drive_c/GOG Games/Darksiders Warmastered Edition/darksiders1.exe
  prefix: $GAMEDIR
installer:
- task:
    arch: win64
    description: Creating WINE prefix
    name: create_prefix
    prefix: $GAMEDIR
- extract:
    dst: $GAMEDIR/drive_c/GOG Games/Darksiders Warmastered Edition
    file: gogsetup
    format: gog
- execute:
    command: cd "$GAMEDIR/drive_c/GOG Games/Darksiders Warmastered Edition"; mv app/*
      . ;
- extract:
    dst: $GAMEDIR/drive_c/tmp
    file: mf_fix
- execute:
    command: cd "$GAMEDIR/drive_c/tmp"; x="$WINEBIN" ; x2="${x%%/bin/wine}" ; PROTON=$x2
      WINEPREFIX="$GAMEDIR" ./install-mf-64.sh -proton ;
- copy:
    dst: $GAMEDIR/drive_c/GOG Games/Darksiders Warmastered Edition
    src: $GAMEDIR/drive_c/tmp/mfplat.dll
requires-binaries: cabextract
wine:
  version: wine-ge-8-26-x86_64
